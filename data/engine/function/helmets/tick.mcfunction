execute if items entity @s armor.head *[custom_data={enginehat:"lava"}] run return run function engine:helmets/particles/lava
execute if items entity @s armor.head *[custom_data={enginehat:"leaves_vortex"}] if predicate {condition:"minecraft:entity_properties",entity:"this",predicate:{movement:{horizontal_speed:0}}} run return run function engine:helmets/particles/leaves_vortex
execute if items entity @s armor.head *[custom_data={enginehat:"cherry_leaves"}] run return run function engine:helmets/particles/cherry_leaves
execute if items entity @s armor.head *[custom_data={enginehat:"leaves"}] run return run function engine:helmets/particles/leaves
execute if items entity @s armor.head *[custom_data={enginehat:"soul"}] unless predicate {condition:"minecraft:entity_properties",entity:"this",predicate:{movement:{horizontal_speed:0}}} run return run function engine:helmets/particles/soul
execute if items entity @s armor.head *[custom_data={enginehat:"smoke"}] run return run function engine:helmets/particles/smoke
execute if items entity @s armor.head *[custom_data={enginehat:"ender"}] if predicate {condition:"minecraft:entity_properties",entity:"this",predicate:{movement:{horizontal_speed:0}}} run return run function engine:helmets/particles/ender